{% extends "base.html" %}
{% load staticfiles %}

{% block content %}
<div class="project-description">
  <p class="lead">The goal of this project is to analyze Geodata to map trends in hashtags on Twitter. By doing this we will predict trends within a certain keyword or hashtag that we are looking at.</p>
</div>

<div class="row">
  <div class="map-area col-md-9">
    <div class="hashtag-search-form">
      <form action="" onsubmit="elasticSearch(); return false;">
        <input type="text" id="hashtag-search" class="hashtag-search-input" placeholder="SearchForHashtag"/>
        <button class="hashtag-search-submit">Search</button>
      </form>
    </div>
    <!-- Map Autogenerated into map-canvas -->
    <div id="map-canvas"></div>
    <div class="heatmap-toggle">
      <a class="heatmap-button">Toggle Heatmap</a>
    </div>
  </div>

  <div class="hashtag-sidebar col-md-3">
    <div class="top-hashtags-link">
      <a href="#">SEE TOP HASHTAGS</a>
    </div>
    <div class="related-hashtags-container">
      <div class="related-hashtags-title">
        <h3>Related Hashtags</h3>
        <h5>Click on a hashtag to view it on the map</h5>
      </div>
    </div>

    <div class="related-hashtags">
      <ul class="hashtags">
       <!-- <li class="hashtag"><a href="#">#Blessed</a></li>
       <li class="hashtag"><a href="#">#Puppy</a></li>
       <li class="hashtag"><a href="#">#BasketBall</a></li>
       <li class="hashtag"><a href="#">#Kardashian</a></li>
       <li class="hashtag"><a href="#">#Inspiration</a></li> -->
     </ul>
   </div>
  </div>
</div>

<div class="row">
  <h1> Most Common Hashtags </h1>
  <div class="top-hashtags-viz"></div>
</div>

<script type="text/javascript">
  // create top-hashtags object
  var topHashtagsObject = [
    {% for hashtag in top_hashtags|dictsortreversed:"count"%}
      {
        hashtag: '{{ hashtag.hashtag | escapejs }}',
        count: '{{ hashtag.count | escapejs }}'
      },
    {% endfor %}
  ]
  //twitter image
  var image = "{% static 'images/tweet-30.png' %}";
</script>


<script type="text/javascript" src="{{ STATIC_URL }}js/d3.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/hashtagviz.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/tweetmap.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/search.js"></script>

{% endblock %}
